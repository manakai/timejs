<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test</title>
  <style>
    html {
      --timejs-serialization: dtsjp3;
    }
  </style>
</head>
<body>
  <test-code name="datetime">
    /*
      <time>2012-05-01T01:12:51Z</time>
    */
      
    var e = this.currentScript.querySelector ('time');
    await this.wait ();
    this.assert.equal (e.textContent, {
      "UTC:en-US": "2012(H24)/5/1 1:12:51",
      "UTC:ja-JP": "2012(H24)/5/1 1:12:51",
      "Asia/Tokyo:en-US": "2012(H24)/5/1 10:12:51",
      "Asia/Tokyo:ja-JP": "2012(H24)/5/1 10:12:51",
      "America/Los_Angeles:en-US": "2012(H24)/4/30 18:12:51",
      "America/Los_Angeles:ja-JP": "2012(H24)/4/30 18:12:51",
    }[this.env]);
  </test-code>
  
  <test-code name="date">
    /*
      <time data-format=date>2012-04-30T23:12:51Z</time>
    */
      
    var e = this.currentScript.querySelector ('time');
    await this.wait ();
    this.assert.equal (e.textContent, "2012(H24)/4/30");
  </test-code>

  <test-code name="datehm">
    var e = document.createElement ('time');
    e.setAttribute ('datetime', '2020-05-01T01:12:51Z');
    e.setAttribute ('data-format', 'datehm');
    this.currentScript.appendChild (e);
    await this.wait ();
    this.assert.equal (e.textContent, {
      "UTC:en-US": "2020(R2)/5/1 1:12",
      "UTC:ja-JP": "2020(R2)/5/1 1:12",
      "Asia/Tokyo:en-US": "2020(R2)/5/1 10:12",
      "Asia/Tokyo:ja-JP": "2020(R2)/5/1 10:12",
      "America/Los_Angeles:en-US": "2020(R2)/5/1 18:12",
      "America/Los_Angeles:ja-JP": "2020(R2)/5/1 18:12",
    }[this.env]);
  </test-code>

  <test-code name="monthday">
    var e = document.createElement ('time');
    e.setAttribute ('datetime', (new Date ().getFullYear ()) + '-04-30T23:12:51Z');
    e.setAttribute ('data-format', 'monthday');
    this.currentScript.appendChild (e);
    await this.wait ();
    this.assert.equal (e.textContent, "4/30");
  </test-code>
  
  <test-code name="monthdayhm">
    var e = document.createElement ('time');
    e.setAttribute ('datetime', (new Date ().getFullYear ()) + '-05-01T01:12:51Z');
    e.setAttribute ('data-format', 'monthdayhm');
    this.currentScript.appendChild (e);
    await this.wait ();
    this.assert.equal (e.textContent, {
      "UTC:en-US": "5/1 1:12",
      "UTC:ja-JP": "5/1 1:12",
      "Asia/Tokyo:en-US": "5/1 10:12",
      "Asia/Tokyo:ja-JP": "5/1 10:12",
      "America/Los_Angeles:en-US": "4/30 18:12",
      "America/Los_Angeles:ja-JP": "4/30 18:12",
    }[this.env]);
  </test-code>
  
  <test-code name="monthdaytime">
    var e = document.createElement ('time');
    e.setAttribute ('datetime', (new Date ().getFullYear ()) + '-05-01T01:12:51Z');
    e.setAttribute ('data-format', 'monthdaytime');
    this.currentScript.appendChild (e);
    await this.wait ();
    this.assert.equal (e.textContent, {
      "UTC:en-US": "5/1 1:12:51",
      "UTC:ja-JP": "5/1 1:12:51",
      "Asia/Tokyo:en-US": "5/1 10:12:51",
      "Asia/Tokyo:ja-JP": "5/1 10:12:51",
      "America/Los_Angeles:en-US": "4/30 18:12:51",
      "America/Los_Angeles:ja-JP": "4/30 18:12:51",
    }[this.env]);
  </test-code>

  <test-code name="time">
    var e = document.createElement ('time');
    e.setAttribute ('datetime', (new Date ().getFullYear ()) + '-05-01T01:12:51Z');
    e.setAttribute ('data-format', 'time');
    this.currentScript.appendChild (e);
    await this.wait ();
    this.assert.equal (e.textContent, {
      "UTC:en-US": "1:12:51",
      "UTC:ja-JP": "1:12:51",
      "Asia/Tokyo:en-US": "10:12:51",
      "Asia/Tokyo:ja-JP": "10:12:51",
      "America/Los_Angeles:en-US": "18:12:51",
      "America/Los_Angeles:ja-JP": "18:12:51",
    }[this.env]);
  </test-code>
    
  <script src=runtests.js data-selector=time></script>
</body>
</html>
<!--

Per CC0 <https://creativecommons.org/publicdomain/zero/1.0/>, to the
extent possible under law, the author has waived all copyright and
related or neighboring rights to this work.

-->
